
<!DOCTYPE>
<html lang="zh-cn" data-scribe-reduced-action-queue="true">
  <head>
    <meta content='Swift - å­—ç¬¦ä¸²å’Œå­—ç¬¦ - Weigel |iOSå¼€å‘è€… | ç‹¬ç«‹æ¸¸æˆå¼€å‘è€… ' name='title' />
    <meta content='Swift - å­—ç¬¦ä¸²å’Œå­—ç¬¦ - Weigel |iOSå¼€å‘è€… | ç‹¬ç«‹æ¸¸æˆå¼€å‘è€… ' name='og:title' />
    <title>Swift - å­—ç¬¦ä¸²å’Œå­—ç¬¦ - Weigel |iOSå¼€å‘è€… | ç‹¬ç«‹æ¸¸æˆå¼€å‘è€… </title>
    
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>Swift - å­—ç¬¦ä¸²å’Œå­—ç¬¦ - Weigel |iOSå¼€å‘è€… | ç‹¬ç«‹æ¸¸æˆå¼€å‘è€… </title>
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Swift - å­—ç¬¦ä¸²å’Œå­—ç¬¦ - Weigel |iOSå¼€å‘è€… | ç‹¬ç«‹æ¸¸æˆå¼€å‘è€… ">
  <meta name="twitter:keywords"  content="Swift - å­—ç¬¦ä¸²å’Œå­—ç¬¦ - Weigel |iOSå¼€å‘è€… | ç‹¬ç«‹æ¸¸æˆå¼€å‘è€… " property='og:description' />
  <meta property="og:type" content="article">
  <meta property="og:title" content="Swift - å­—ç¬¦ä¸²å’Œå­—ç¬¦ - Weigel |iOSå¼€å‘è€… | ç‹¬ç«‹æ¸¸æˆå¼€å‘è€… ">
  <meta name="og:keywords"  content="Swift - å­—ç¬¦ä¸²å’Œå­—ç¬¦ - Weigel |iOSå¼€å‘è€… | ç‹¬ç«‹æ¸¸æˆå¼€å‘è€… |  Swiftçš„å­—ç¬¦ä¸²ç±»å‹ä¸Foundationçš„NSStringç±»è¿æ¥ã€‚Foundationè¿˜æ‰©å±•äº†å­—ç¬¦ä¸²æ¥å…¬å¼€ç”±NSStringå®šä¹‰çš„æ–¹æ³•ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœæ‚¨å¯¼å…¥Foundationï¼Œæ‚¨å¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸­è®¿é—®è¿™äº›NSStringæ–¹æ³•ï¼Œè€Œ..." property='og:description' />
  <meta name="theme-Jekyll by liberxue" content="#eb5055"> 
  <link rel="icon" type="image/png" href="http://localhost:4000/style/favicons/header.ico" />
  <link href="http://localhost:4000/style/favicons/header.ico" rel="shortcut icon" type="image/png">
  <link rel="canonical" href="http://localhost:4000/">
  <link rel="alternate" type="application/rss+xml" title="Liberxue" href="http://localhost:4000/feed.xml">
  <meta charset="UTF-8">  
  <link rel="manifest" href="/manifest.json">
  <link rel="shortcut icon" href="http://localhost:4000/style/favicons/header.ico" type="image/x-icon">
  <meta name="keywords"  content="  Swiftçš„å­—ç¬¦ä¸²ç±»å‹ä¸Foundationçš„NSStringç±»è¿æ¥ã€‚Foundationè¿˜æ‰©å±•äº†å­—ç¬¦ä¸²æ¥å…¬å¼€ç”±NSStringå®šä¹‰çš„æ–¹æ³•ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœæ‚¨å¯¼å…¥Foundationï¼Œæ‚¨å¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸­è®¿é—®è¿™äº›NSStringæ–¹æ³•ï¼Œè€Œ..." property='og:description' />
  <meta name="description" content="nothing is more practicla than a good theory" />
  <link href="https://cdn.bootcss.com/highlight.js/9.10.0/styles/xcode.min.css" rel="stylesheet">
  <link href="/style/style-liberxue.css" rel="stylesheet">

  <meta content='http://localhost:4000/2018/01/03/swiftStringAndCharacter.html' property='og:url' />
  <meta content="http://localhost:4000/2018/01/03/swiftStringAndCharacter.html|  Swiftçš„å­—ç¬¦ä¸²ç±»å‹ä¸Foundationçš„NSStringç±»è¿æ¥ã€‚Foundationè¿˜æ‰©å±•äº†å­—ç¬¦ä¸²æ¥å…¬å¼€ç”±NSStringå®šä¹‰çš„æ–¹æ³•ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœæ‚¨å¯¼å…¥Foundationï¼Œæ‚¨å¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸­è®¿é—®è¿™äº›NSStringæ–¹æ³•ï¼Œè€Œ..." property='og:description' />
  <meta content="article" property="og:type" />




  </head>
<body class="" gtools_scp_screen_capture_injected="true">
<header id="header" class="header bg-white">
    <div class="navbar-container">
      <a href="/?liberxue" title="è®¿é—® Weigel |iOSå¼€å‘è€… | ç‹¬ç«‹æ¸¸æˆå¼€å‘è€… " class="navbar-logo"> <img src="http://p4wibncwo.bkt.clouddn.com/motto.png" alt="Weigel |iOSå¼€å‘è€… | ç‹¬ç«‹æ¸¸æˆå¼€å‘è€… "> </a>
        <div class="navbar-menu">
                         
            <a href="http://localhost:4000/">é¦–é¡µ</a>
                             
            <a href="http://localhost:4000/technology">æŠ€æœ¯</a>
                             
            <a href="http://localhost:4000/book">ä¹¦ç±</a>
                             
            <a href="http://localhost:4000/archives">å½’æ¡£</a>
                             
            <a href="http://localhost:4000/project">é¡¹ç›®</a>
                             
            <a href="http://localhost:4000/tags">æ ‡ç­¾</a>
                             
            <a href="http://localhost:4000/about">å…³äº</a>
                
          </div>
        <div class="navbar-search" onclick="">
            <span class="icon-search"></span>
            <form id="cb-search-btn" role="search">
         <span class="search-box">
         <input type="text" class="input" id="cb-search-content" required="true" placeholder="æ ‡é¢˜ æ ‡ç­¾..." maxlength="30" autocomplete="off">
        </span>
            </form>
        </div>
        <div class="navbar-mobile-menu" onclick="">
            <span class="icon-menu cross"><span class="middle"></span></span>
            <ul>
                          
                <li><a href="http://localhost:4000/">é¦–é¡µ</a></li>
                            
                <li><a href="http://localhost:4000/technology">æŠ€æœ¯</a></li>
                            
                <li><a href="http://localhost:4000/book">ä¹¦ç±</a></li>
                            
                <li><a href="http://localhost:4000/archives">å½’æ¡£</a></li>
                            
                <li><a href="http://localhost:4000/project">é¡¹ç›®</a></li>
                            
                <li><a href="http://localhost:4000/tags">æ ‡ç­¾</a></li>
                            
                <li><a href="http://localhost:4000/about">å…³äº</a></li>
                 
            </ul>
        </div>
    </div>
</header>
<div class="post-header-thumb bg-white}">
	<div class="post-header-thumb-op"></div>
	<div class="post-header-thumb">
		<div class="post-header-thumb-container">
    <h1 class="post-title" itemprop="name headline">
	Swift - å­—ç¬¦ä¸²å’Œå­—ç¬¦</h1>
		 <div class="post-data">  
	 <time datetime="2018-01-03" itemprop="datePublished">å‘å¸ƒæ—¶é—´ï¼š2018-01-03</time>
     <a href="/tags#æŠ€æœ¯" title="è®¿é—® æŠ€æœ¯" data-hover="åšå®¢åˆ†ç±»: æŠ€æœ¯">åšå®¢åˆ†ç±»: æŠ€æœ¯</a>
    <a href="#read"> é˜…è¯»æ¬¡æ•°: comments</a> 
			</div>
            <div class="post-tags">
                
      
      
       
          <a href="/tags#iOS" title="è®¿é—®iOS" data-hover="iOS">
          iOS <span>(17)</span>
          
</a>
       
          <a href="/tags#Swift" title="è®¿é—®Swift" data-hover="Swift">
          Swift <span>(7)</span>
          
</a>
       
          <a href="/tags#String" title="è®¿é—®String" data-hover="String">
          String <span>(1)</span>
          
</a>
       
          <a href="/tags#Character" title="è®¿é—®Character" data-hover="Character">
          Character <span>(1)</span>
          
</a>
      
      
      
     
	</div>
</div>
</div></div>
<article class="main-content post-page" itemscope itemtype="http://schema.org/Article">
	<div class="post-header">
		<h1 class="post-title" itemprop="name headline">
			Swift - å­—ç¬¦ä¸²å’Œå­—ç¬¦</h1>
		<div class="post-data">
				<time datetime="2018-01-03" itemprop="datePublished">2018-01-03 00:00:00</time>
		</div>
	</div>
	<div id="post-content" class="post-content" itemprop="articleBody">
         <p class="post-tags">
    
      
      
       
          <a href="/tags#iOS" title="è®¿é—®iOS" data-hover="iOS">
          iOS <span>(17)</span>
          </a>
       
          <a href="/tags#Swift" title="è®¿é—®Swift" data-hover="Swift">
          Swift <span>(7)</span>
          </a>
       
          <a href="/tags#String" title="è®¿é—®String" data-hover="String">
          String <span>(1)</span>
          </a>
       
          <a href="/tags#Character" title="è®¿é—®Character" data-hover="Character">
          Character <span>(1)</span>
          </a>
      
      
      
     
</p>
<blockquote>
  <p>Swiftçš„å­—ç¬¦ä¸²ç±»å‹ä¸Foundationçš„NSStringç±»è¿æ¥ã€‚Foundationè¿˜æ‰©å±•äº†å­—ç¬¦ä¸²æ¥å…¬å¼€ç”±NSStringå®šä¹‰çš„æ–¹æ³•ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœæ‚¨å¯¼å…¥Foundationï¼Œæ‚¨å¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸­è®¿é—®è¿™äº›NSStringæ–¹æ³•ï¼Œè€Œä¸éœ€è¦è¿›è¡Œå¼ºåˆ¶è½¬æ¢ã€‚</p>
</blockquote>

<h1 id="å•è¡Œå­—ç¬¦ä¸²">å•è¡Œå­—ç¬¦ä¸²</h1>
<p><code class="highlighter-rouge"> let someString = "Some stirng" </code></p>
<h1 id="å¤šè¡Œæ–‡æœ¬">å¤šè¡Œæ–‡æœ¬</h1>
<p>å¤šè¡Œæ–‡æœ¬ä½¿ç”¨ `  â€œâ€â€ å†…å®¹ â€œâ€â€ `  æ²¡é”™ï¼Œå°±æ˜¯ä¸‰ä¸ªå¼•å·å¼€å¤´ï¼Œä¸‰ä¸ªå¼•å·ç»“å°¾ã€‚
å¤šè¡Œå­—ç¬¦ä¸²æ–‡å­—åŒ…å«äº†å®ƒçš„èµ·å§‹å¼•å·å’Œç»“æŸå¼•å·ä¹‹é—´çš„æ‰€æœ‰è¡Œ</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">let</span> <span class="nv">lyric</span> <span class="o">=</span> <span class="s">"""
é‚£æ˜¯ä½ çš„çœ¼ç¥ï¼Œæ˜äº®åˆç¾ä¸½
å•Šå•Šå•Š~~~
"""</span>
<span class="nf">print</span><span class="p">(</span><span class="n">lyric</span><span class="p">)</span>

<span class="nv">ç»“æœ</span><span class="p">:</span>
<span class="n">é‚£æ˜¯ä½ çš„çœ¼ç¥</span><span class="err">ï¼Œ</span><span class="n">æ˜äº®åˆç¾ä¸½</span>
<span class="n">å•Šå•Šå•Š</span><span class="o">~~~</span>
</code></pre></div></div>
<p>å¥½å§ï¼Œè¿™ä¸ªæˆ‘ä¸€å¼€å§‹ä»¥ä¸ºåªæ˜¯åœ¨æ ¼å¼ä¸Šå¯ä»¥å†™æˆå¤šè¡Œï¼Œæ²¡æƒ³åˆ°ç»“æœå°±æ˜¯å¤šè¡Œï¼Œæ•ˆæœç­‰åŒäº\n,è€Œä¸”è¿™æ ·å†™æ³•æ›´åŠ æ–¹ä¾¿ã€‚
è¿˜æœ‰å°±æ˜¯å½“æˆ‘ä»¬æƒ³åœ¨å¤šè¡Œæ–‡æœ¬ä¸­æƒ³æ§åˆ¶æŸè¡Œä¸æ¢è¡Œï¼Œå¯ä»¥é€‰æ‹©åœ¨æŸè¡Œçš„æœ«å°¾å†™ä¸Š \ é‚£ä¹ˆä¸‹ä¸€è¡Œå°±ä¸ä¼šæ¢è¡Œäº†</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">lyric</span> <span class="o">=</span> <span class="s">"""
é‚£æ˜¯ä½ çš„çœ¼ç¥ï¼Œæ˜äº®åˆç¾ä¸½</span><span class="err">\</span><span class="s">
å•Šå•Šå•Š~~~
"""</span>

<span class="nv">ç»“æœ</span><span class="p">:</span>
<span class="n">é‚£æ˜¯ä½ çš„çœ¼ç¥</span><span class="err">ï¼Œ</span><span class="n">æ˜äº®åˆç¾ä¸½å•Šå•Šå•Š</span><span class="o">~~~</span>
</code></pre></div></div>

<p>åœ¨å¤šè¡Œæ–‡æœ¬ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»“æŸå¼•å·çš„å‰é¢è®¾å®šç©ºæ ¼ï¼Œæ¥é™å®šæ•´æ®µæ–‡æœ¬çš„ç¼©è¿›:</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">lyric</span> <span class="o">=</span> <span class="s">"""
  é‚£æ˜¯ä½ çš„çœ¼ç¥ï¼Œæ˜äº®åˆç¾ä¸½
  å•Šå•Šå•Š~~~

  """</span>
</code></pre></div></div>
<p>ä¸Šé¢ä¾‹å­ä¸­,æˆ‘ä»¬åœ¨æœ€åâ€"â€å‰è®¾å®šäº†2ä¸ªç©ºæ ¼,é‚£ä¹ˆä¹‹å‰çš„æ–‡æœ¬å¿…é¡»éƒ½æ˜¯ç¼©è¿›2ä¸ªç©ºæ ¼å¦‚æœä½ è¿™æ ·å†™:</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">lyric</span> <span class="o">=</span> <span class="s">"""
é‚£æ˜¯ä½ çš„çœ¼ç¥ï¼Œæ˜äº®åˆç¾ä¸½
å•Šå•Šå•Š~~~

  """</span>
</code></pre></div></div>
<p>ä½ ä¼šå‘ç°ä¼šæŠ¥é”™<code class="highlighter-rouge">Insufficient indentation of line in multi-line string literal å¤šè¡Œå­—ç¬¦ä¸²æ–‡å­—çš„è¡Œç¼©ä¸è¶³</code></p>

<h2 id="å­—ç¬¦ä¸²ä¸­ç‰¹æ®Šå­—ç¬¦">å­—ç¬¦ä¸²ä¸­ç‰¹æ®Šå­—ç¬¦</h2>
<p>\(åæ–œæ )</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let test = "====\\===="
ç»“æœ:
====\====
</code></pre></div></div>

<p>\t(æ°´å¹³é€‰é¡¹å¡)</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let test = "\t1\t2\t3"
ç»“æœ:
	1	2	3
</code></pre></div></div>

<p>\n(æ¢è¡Œç¬¦)</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let test = "\n1\n2\n3"
ç»“æœ:

1
2
3
</code></pre></div></div>

<p>\r(å›è½¦)</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let test = "\r1\r2\r3"
ç»“æœ:

1
2
3
</code></pre></div></div>

<p>ä»ç»“æœæ¥çœ‹,\rå’Œ\nä¼¼ä¹æ²¡æœ‰åŒºåˆ«,ä½†æ—¢ç„¶å­˜åœ¨å³è¡¨ç¤ºè‚¯å®šæ˜¯æœ‰åŒºåˆ«çš„</p>
<blockquote>
  <p>â€˜\râ€™æ˜¯å›è½¦ï¼Œ\r ä½¿å…‰æ ‡åˆ°è¡Œé¦–. â€˜\nâ€™æ˜¯æ¢è¡Œï¼Œ\n ä½¿å…‰æ ‡ä¸‹ç§»ä¸€æ ¼,é€šå¸¸æ•²ä¸€ä¸ªå›è½¦é”®ï¼Œå³æ˜¯å›è½¦ï¼Œåˆæ˜¯æ¢è¡Œï¼ˆ\r\nï¼‰ã€‚Unixä¸­æ¯è¡Œç»“å°¾åªæœ‰â€œ<æ¢è¡Œ>â€ï¼Œå³â€œ\nâ€ï¼›Windowsä¸­æ¯è¡Œç»“å°¾æ˜¯â€œ<æ¢è¡Œ><å›è½¦>â€ï¼Œå³â€œ\n\râ€ï¼›Macä¸­æ¯è¡Œç»“å°¾æ˜¯â€œ<å›è½¦>â€</å›è½¦></å›è½¦></æ¢è¡Œ></æ¢è¡Œ></p>
</blockquote>

<p>ä¸€èˆ¬é‡åˆ°çš„æƒ…å†µæ˜¯åœ¨è§£æJsonå­—ç¬¦ä¸²,ç½‘é¡µæ•°æ®,æ–‡ä»¶ä¿¡æ¯çš„æ—¶å€™ä¼šå‡ºç°ä¸åŒçš„åº”å¯¹.</p>

<p>"(åŒå¼•å·)</p>
<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">let</span> <span class="nv">test</span> <span class="o">=</span> <span class="s">"</span><span class="se">\"</span><span class="s">è®¤è¯†è‡ªå·±çš„æ— çŸ¥æ˜¯è®¤è¯†ä¸–ç•Œçš„æœ€å¯é çš„æ–¹æ³•ã€‚â€”â€”ã€Šéšç¬”é›†ã€‹</span><span class="se">\"</span><span class="s">"</span>
<span class="nv">ç»“æœ</span><span class="p">:</span>
<span class="s">"è®¤è¯†è‡ªå·±çš„æ— çŸ¥æ˜¯è®¤è¯†ä¸–ç•Œçš„æœ€å¯é çš„æ–¹æ³•ã€‚â€”â€”ã€Šéšç¬”é›†ã€‹"</span>
</code></pre></div></div>
<p>'(å•å¼•å·)</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let test = "\'æ›¦\'"
ç»“æœ:
'æ›¦'
</code></pre></div></div>
<p>Unicode å­—ç¬¦å°±ç›´æ¥é‡‡ç”¨å®˜ç½‘çš„äº†</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let dollarSign = "\u{24}"        // $,  Unicode scalar U+0024
let blackHeart = "\u{2665}"      // â™¥,  Unicode scalar U+2665
let sparklingHeart = "\u{1F496}" // ğŸ’–, Unicode scalar U+1F496

ç»“æœ:
$ â™¥ ğŸ’–
</code></pre></div></div>

<h2 id="ç©ºå­—ç¬¦ä¸²">ç©ºå­—ç¬¦ä¸²</h2>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚æœå®šä¹‰ä¸€ä¸ªç©ºå­—ç¬¦ä¸²:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var emptyString = ""
æˆ–è€…
var emptyString = String()
</code></pre></div></div>

<p>åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º:</p>
<blockquote>
  <p>isEmpty æ–¹æ³•</p>
</blockquote>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">var</span> <span class="nv">emptyString</span> <span class="o">=</span> <span class="s">""</span>

<span class="k">if</span> <span class="n">emptyString</span><span class="o">.</span><span class="n">isEmpty</span> <span class="p">{</span>
  <span class="nf">print</span><span class="p">(</span><span class="s">"emptyStirng is empty"</span><span class="p">)</span>
<span class="p">}</span>

</code></pre></div></div>

<h2 id="å­—ç¬¦ä¸²å¯å˜æ€§">å­—ç¬¦ä¸²å¯å˜æ€§</h2>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var variableString = "Horse"
variableString += " and carriage"

ç»“æœ:
variableStrin:Horse and carriage
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let constantString = "Highlander"
constantString += " and another Highlander"
å‘ç”Ÿé”™è¯¯ã€‚
Left side of mutating operator isn't mutable: 'constantString' is a 'let' constant
å˜å¼‚æ“ä½œç¬¦çš„å·¦ä¾§æ˜¯ä¸å¯æ”¹å˜çš„:â€œå¸¸é‡å­—ç¬¦ä¸²â€æ˜¯ä¸€ä¸ªâ€œletâ€å¸¸é‡
</code></pre></div></div>
<p>ç®€å•æ¥è¯´å°±æ˜¯variableString æ˜¯å˜é‡,å¯ä»¥é€šè¿‡+æ“ä½œç¬¦æ¥è¿½åŠ å­—ç¬¦ä¸², constantString ä¸ºå¸¸é‡,ä¸å¯ä¿®æ”¹ã€‚</p>

<p>è¿™ä¸ªæˆ‘ä¸å¾—ä¸åæ§½ä¸€ä¸‹,å®˜ç½‘çš„è¿™ä¸ªè§£é‡Š,ä¸å°±æ˜¯å¸¸é‡ä¸å¯ä¿®æ”¹å˜›,è¯´ä»€ä¹ˆå¯å˜æ€§ã€‚</p>

<h2 id="å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹">å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹</h2>
<blockquote>
  <p>If you create a new String value, that String value is copied when itâ€™s passed to a function or method, or when itâ€™s assigned to a constant or variable. In each case, a new copy of the existing String value is created, and the new copy is passed or assigned, not the original version.
å¦‚æœæ‚¨åˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å€¼ï¼Œé‚£ä¹ˆå½“å®ƒä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°æˆ–æ–¹æ³•æ—¶ï¼Œæˆ–è€…å½“å®ƒè¢«åˆ†é…ç»™ä¸€ä¸ªå¸¸é‡æˆ–å˜é‡æ—¶,è¯¥å­—ç¬¦ä¸²å€¼å°†è¢«å¤åˆ¶ã€‚
åœ¨ä¸åŒæƒ…å†µä¸‹ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªç°æœ‰å­—ç¬¦ä¸²å€¼çš„æ–°å‰¯æœ¬ï¼Œå¹¶åˆ†é…æ–°å‰¯æœ¬ï¼Œè€Œä¸æ˜¯åŸå§‹ç‰ˆæœ¬ã€‚</p>
</blockquote>

<blockquote>
  <p>Swiftâ€™s copy-by-default String behavior ensures that when a function or method passes you a String value, itâ€™s clear that you own that exact String value, regardless of where it came from. You can be confident that the string you are passed wonâ€™t be modified unless you modify it yourself.
Swiftçš„ copy-by-default è¡Œä¸ºå¯ä»¥ç¡®ä¿å½“å‡½æ•°æˆ–æ–¹æ³•ä¼ é€’ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²å€¼æ—¶ï¼Œä¸ç®¡å®ƒæ˜¯ä»å“ªé‡Œæ¥çš„ï¼Œä½ éƒ½èƒ½æ¸…æ¥šåœ°çŸ¥é“ä½ çš„å€¼æ˜¯ä»€ä¹ˆã€‚æ‚¨å¯ä»¥ç¡®ä¿¡ï¼Œæ‚¨æ‰€ä¼ é€’çš„å­—ç¬¦ä¸²ä¸ä¼šè¢«ä¿®æ”¹ï¼Œé™¤éæ‚¨è‡ªå·±ä¿®æ”¹å®ƒã€‚</p>
</blockquote>

<blockquote>
  <p>Behind the scenes, Swiftâ€™s compiler optimizes string usage so that actual copying takes place only when absolutely necessary. This means you always get great performance when working with strings as value types.
åœ¨åå°,Swiftçš„ç¼–è¯‘å™¨ä¼˜åŒ–äº†å­—ç¬¦ä¸²çš„ä½¿ç”¨ï¼Œæ‰€ä»¥åªæœ‰åœ¨ç»å¯¹å¿…è¦çš„æƒ…å†µä¸‹æ‰ä¼šè¿›è¡Œå®é™…çš„å¤åˆ¶ã€‚è¿™æ„å‘³ç€åœ¨ä½¿ç”¨å­—ç¬¦ä¸²ä½œä¸ºå€¼ç±»å‹æ—¶ï¼Œæ‚¨æ€»æ˜¯è·å¾—å¾ˆå¥½çš„æ€§èƒ½ã€‚</p>
</blockquote>

<p>è¿™ä¸ªå°±æœ‰åˆ«äºOCäº†ï¼ŒOCä¸­æœ‰æ˜ç¡®çš„åˆ†ä¸ºNSString(ä¸å¯å˜)å’ŒNSMutableString(å¯å˜),swiftä¸­åªæœ‰è¿™ä¹ˆä¸€ç§äº†ï¼Œé€šè¿‡å¯¹æ­¤çš„ä¼˜åŒ–æ›´åŠ ç¡®ä¿äº†æ•°æ®çš„å®‰å…¨ã€‚</p>

<h1 id="å­—ç¬¦">å­—ç¬¦</h1>
<p>å®šä¹‰ä¸€ä¸ªå­—ç¬¦(Character)ç±»å‹çš„å¸¸é‡charA</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let charA:Character = "A"
print("charA:\(charA)")
ç»“æœ:
charA:A
</code></pre></div></div>

<p>æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨forå¾ªç¯éå†å­—ç¬¦ä¸²æ¥è®¿é—®å­—ç¬¦ä¸²çš„å•ä¸ªå­—ç¬¦å€¼:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let character = ""
let str = "çª—å¤–çš„éº»é›€"
for character in str {
    print(character)
}
ç»“æœ:
çª—
å¤–
çš„
éº»
é›€
</code></pre></div></div>

<p>åˆ›å»ºä¸€ä¸ªå­—ç¬¦å€¼æ•°ç»„:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let catCharacters: [Character] = ["C", "a", "t", "!", "ğŸ±"]
print(catCharacters)
ç»“æœ:
["C", "a", "t", "!", "ğŸ±"]
</code></pre></div></div>

<p>å¯ä»¥é€šè¿‡<code class="highlighter-rouge">String(å­—ç¬¦æ•°ç»„) </code>æ¥å°†å­—ç¬¦æ•°ç»„è½¬æ¢æˆå­—ç¬¦ä¸²</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let catCharacters: [Character] = ["C", "a", "t", "!", "ğŸ±"]
let catString = String(catCharacters)
print(catString)
ç»“æœ:
Cat!ğŸ±
</code></pre></div></div>

<p>å­—ç¬¦ä¸²çš„è¿æ¥:
æˆ‘ä»¬å¯ä»¥ç”¨ <code class="highlighter-rouge">+</code> æ“ä½œç¬¦è¿æ¥å­—ç¬¦ä¸²</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let string1 = "hello"
let string2 = " there"
var welcome = string1 + string2
print("welcome \(welcome)")
ç»“æœ:
welcome hello there
</code></pre></div></div>

<p>é™¤äº†<code class="highlighter-rouge">+</code>æ“ä½œç¬¦ä¹‹å¤–,è¿˜æœ‰appendæ–¹æ³•</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let string1 = "hello"
let string2 = " there"
var welcome = string1 + string2

let exclamationMark: Character = "!"
welcome.append(exclamationMark)
print("welcome \(welcome)")
ç»“æœ:
welcome hello there!
</code></pre></div></div>
<p>appendæ˜¯å°†å­—ç¬¦ä¸²è¿½åŠ åˆ°åŸæœ¬å­—ç¬¦ä¸²çš„æœ«å°¾</p>

<p>ä»¥ä¸Šçš„æ·»åŠ æ–¹æ³•æ˜¯é€šè¿‡è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å€¼å½¢æˆä¸€ä¸ªæ–°çš„å€¼
è€Œåœ¨æœ‰çš„æ—¶å€™æˆ‘ä»¬å…¶å®åªéœ€è¦ä¸´æ—¶çš„å±•ç¤ºè€Œå·²ï¼Œä¸éœ€è¦å»æ”¹å˜åŸæœ‰çš„å€¼,é‚£ä¹ˆè¿™ä¸ªæ—¶å€™å…¶å®åªéœ€è¦è¿™æ ·åšå°±å¯ä»¥äº†:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let badStart = """
one
two
"""
let end = """
three
"""
print(badStart + end)
print(badStart)

ç»“æœ:
one
twothree

one
two
</code></pre></div></div>

<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åœ¨è¾“å‡ºprintä¸­å°†å…¶ç›¸åŠ ,è™½ç„¶æ˜¾ç¤ºäº†ï¼Œä½†å…¶å®badStartçš„ç»“æœå¹¶æ²¡æœ‰æ”¹å˜ã€‚</p>

<h2 id="å­—ç¬¦ä¸²çš„æ’å€¼">å­—ç¬¦ä¸²çš„æ’å€¼</h2>
<p>åœ¨ä½¿ç”¨å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦åˆ©ç”¨å…¶å®ƒçš„å˜é‡æ¥æ”¹å˜æˆ‘ä»¬ç›®å‰çš„æ•°æ®,è€Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code class="highlighter-rouge">\(value)</code> æ¥å°†æˆ‘ä»¬éœ€è¦çš„å€¼</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let multiplier = 3
let message = "\(multiplier) times 2.5 is \(Double(multiplier) * 2.5)"

ç»“æœ:
3 times 2.5 is 7.5
</code></pre></div></div>
<p>å½“ç„¶äº†ï¼Œè¿™ä¸ªä¹Ÿä¸æ˜¯ä¸‡èƒ½ï¼Œå®ƒæ˜¯ä¸èƒ½å°†æœªè½¬ä¹‰çš„<code class="highlighter-rouge">\</code>ç›´æ¥æ”¾ç½®äº<code class="highlighter-rouge">()</code>ä¸­çš„:
é”™è¯¯çš„æ–¹å¼</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let message = "\(\)"
print(message)

let message = "\(\')"
print(message)

</code></pre></div></div>

<p>æ­£ç¡®çš„æ–¹å¼æ˜¯è¿™æ ·çš„:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let message = "\("\'")"
print(message)
ç»“æœ:
'
</code></pre></div></div>

<h2 id="è®¡ç®—å­—ç¬¦çš„ä¸ªæ•°">è®¡ç®—å­—ç¬¦çš„ä¸ªæ•°</h2>
<p>è®¡ç®—å­—ç¬¦çš„ä¸ªæ•°æ˜¯æˆ‘ä»¬æ¯”è¾ƒå¸¸ç”¨çš„æ–¹æ³•<code class="highlighter-rouge">count</code></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let unusualMenagerie = "Koala ğŸ¨, Snail ğŸŒ, Penguin ğŸ§, Dromedary ğŸª"
print("unusualMenagerie has \(unusualMenagerie.count) characters")
ç»“æœ:
unusualMenagerie has 40 characters
</code></pre></div></div>

<p>å½“ç„¶äº†,countå¹¶ä¸æ€»æ˜¯èƒ½å¤Ÿè®¡ç®—æ¸…æ¥šæˆ‘ä»¬çš„å­—ç¬¦ä¸ªæ•°:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var word = "cafe"
print("the number of characters in \(word) is \(word.count)")
è¿™ä¸ªè®¡ç®—ç»“æœæ˜¯4
word += "\u{301}"  
print("the number of characters in \(word) is \(word.count)")
å½“æˆ‘ä»¬è®¡ç®—çš„ä¼šå‘ç°ç»“æœä»ç„¶æ˜¯4
</code></pre></div></div>
<p>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢?
å› ä¸ºswiftä¸­çš„å­—ç¬¦ä¸²è¿ç”¨äº†<code class="highlighter-rouge">æ‰©å±•å­—å…ƒç°‡ï¼ˆExtended Grapheme Clusters)</code></p>

<p>æ‰©å±•å­—å…ƒç°‡å¯ä»¥ç”±å¤šä¸ªUnicodeæ ‡é‡ç»„æˆã€‚
<strong>è¿™æ„å‘³ç€ä¸åŒçš„å­—ç¬¦å’Œç›¸åŒå­—ç¬¦çš„ä¸åŒè¡¨ç¤ºå¯ä»¥è¦æ±‚ä¸åŒçš„å†…å­˜æ•°é‡æ¥å­˜å‚¨ã€‚
å› æ­¤ï¼ŒSwiftä¸­çš„å­—ç¬¦ä¸ä¼šåœ¨å­—ç¬¦ä¸²çš„è¡¨ç¤ºä¸­å ç”¨ç›¸åŒæ•°é‡çš„å†…å­˜ã€‚</strong>
ç»“æœï¼Œå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦æ•°æ— æ³•è®¡ç®—.
å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ç‰¹åˆ«é•¿çš„å­—ç¬¦ä¸²å€¼ï¼Œè¯·æ³¨æ„ï¼Œcountå±æ€§å¿…é¡»éå†æ•´ä¸ªå­—ç¬¦ä¸²ä¸­çš„Unicodeæ ‡é‡ï¼Œä»¥ä¾¿ç¡®å®šè¯¥å­—ç¬¦ä¸²çš„å­—ç¬¦ã€‚</p>

<p>æ¯”å¦‚ï¼šå­—æ¯Ã©å¯ä»¥æ˜¯ä¸€ä¸ªå•ç‹¬çš„Unicode scalarï¼šU+00E9ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤šä¸ªçº¯é‡çš„ç»„åˆï¼šU+0065U+0301 ï¼ˆå…¶ä¸­U+0065å°±æ˜¯å­—æ¯eï¼‰ã€‚åœ¨Swiftä¸­ï¼Œè¿™ä¸¤ç§æƒ…å†µéƒ½è®¤ä¸ºæ˜¯ä¸€ä¸ªå­—ç¬¦ï¼Œå› æ­¤è·å–å­—ç¬¦ä¸²é•¿åº¦çš„æ—¶å€™(ç”¨å…¨å±€å‡½æ•°count())ï¼Œè¿”å›çš„å€¼æ˜¯ç›¸åŒçš„ï¼Œè¿™æ„å‘³ç€å­—ç¬¦ä¸²çš„æ”¹å˜å¹¶ä¸ä¸€å®šæ„å‘³ç€å…¶é•¿åº¦å‘ç”Ÿå˜åŒ–ã€‚</p>

<p>countå±æ€§è¿”å›çš„å­—ç¬¦æ•°å¹¶ä¸æ€»æ˜¯ä¸åŒ…å«ç›¸åŒå­—ç¬¦çš„NSStringçš„é•¿åº¦å±æ€§ç›¸åŒã€‚
NSStringçš„lengthæ˜¯åŸºäºå­—ç¬¦ä¸²çš„utf-16è¡¨ç¤ºçš„16ä½ä»£ç å•å…ƒçš„æ•°é‡ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸²ä¸­Unicodeæ‰©å±•çš„graphemeé›†ç¾¤çš„æ•°é‡</p>

<h2 id="å­—ç¬¦ä¸²ç´¢å¼•">å­—ç¬¦ä¸²ç´¢å¼•</h2>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let greeting = "Guten Tag!"
//å­—ç¬¦ä¸²ä¸­çš„å¼€å¤´å­—æ¯
print(greeting[greeting.startIndex])
//index()è¡¨ç¤ºè·å–å­—ç¬¦ä¸²ä¸­æŸä¸ªä¸‹æ ‡çš„å…ƒç´ ,beforeæ„å‘³ç€è·å–æœ€åä¸€ä½çš„ä¹‹å‰çš„ä¸‹æ ‡
//endIndexè¡¨ç¤ºå­—ç¬¦ä¸²æœ€åä¸€ä½
print(greeting[greeting.index(before: greeting.endIndex)])
//afterè¡¨ç¤ºè·å–æŸä¸ªä¸‹æ ‡ä¹‹å
print(greeting[greeting.index(after: greeting.startIndex)])
//è¿™ä¸ªæ–¹æ³•è¡¨ç¤ºä»¥startIndexä¸‹æ ‡å¼€å§‹ï¼Œåç§»7ä½
let index = greeting.index(greeting.startIndex, offsetBy: 7)
print(greeting[index])
ç»“æœ:
G
!
u
a
</code></pre></div></div>

<p>ä½¿ç”¨ç´¢å¼•å±æ€§æ¥è®¿é—®å­—ç¬¦ä¸²ä¸­å„ä¸ªå­—ç¬¦çš„æ‰€æœ‰ç´¢å¼•:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for index in greeting.indices {
    print("\(greeting[index]) ", terminator: "")
}
ç»“æœ:
G u t e n   T a g ! 
</code></pre></div></div>
<p>è¿™é‡Œçš„terminatoræ˜¯printæ–¹æ³•ä¸­å‚æ•°,é»˜è®¤æ˜¯æ·»åŠ æ¢è¡Œç¬¦\n</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let greeting = "Guten Tag!"

for index in greeting.indices {
    print("\(greeting[index]) ", terminator: "\n")
}
G 
u 
t 
e 
n 
  
T 
a 
g 
! 
</code></pre></div></div>
<p>æ„Ÿè§‰è·Ÿprintæ²¡æœ‰åŒºåˆ«å§ã€‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>let greeting = "Guten Tag!"

for index in greeting.indices {
    print("\(greeting[index]) ", terminator: "1")
}
ç»“æœ:
G 1u 1t 1e 1n 1  1T 1a 1g 1! 1
</code></pre></div></div>
<p>è¿™ä¸ªå…¶å®å°±æ˜¯åœ¨æ¯æ¬¡è·å–å•ä¸ªå­—ç¬¦ä¹‹åæ·»åŠ ä¸€ä¸ªå­—ç¬¦ã€‚</p>

<h1 id="å­—ç¬¦ä¸²çš„æ’å…¥å’Œåˆ é™¤">å­—ç¬¦ä¸²çš„æ’å…¥å’Œåˆ é™¤</h1>

<h2 id="æ’å…¥">æ’å…¥</h2>
<blockquote>
  <p>insert(value,at:index)</p>
</blockquote>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var welcome = "hello"
welcome.insert("!", at:welcome.endIndex)
print(welcome)
ç»“æœ:
hello!

var welcome = "hello!"
welcome.insert(contentsOf: " world", at: welcome.index(before: welcome.endIndex))
print(welcome)
ç»“æœ:
hello world!
</code></pre></div></div>

<h2 id="ç§»é™¤">ç§»é™¤</h2>
<blockquote>
  <p>remove(at:index)
æ ¹æ®ä¸‹æ ‡è¿›è¡Œç§»é™¤</p>
</blockquote>

<blockquote>
  <p>removeSubrange
æ ¹æ®æä¾›çš„èŒƒå›´è¿›è¡Œç§»é™¤
```
var welcome = â€œhello!â€
welcome.remove(at: welcome.index(before: welcome.endIndex))
print(welcome)
ç»“æœ:
hello</p>
</blockquote>

<p>var welcome = â€œhello worldâ€
//ç©ºæ ¼çš„ä½ç½® - æœ«å°¾
let range = welcome.index(welcome.endIndex, offsetBy: -6)..&lt;welcome.endIndex
welcome.removeSubrange(range)
print(welcome)
ç»“æœ:
hello
```
åç»­æ›´æ–°,æ•¬è¯·æœŸå¾…â€¦</p>


		<p class="post-info">
			æœ¬æ–‡ç”± <a href="/">æ¨æ ¹å¨</a> åˆ›ä½œï¼Œé‡‡ç”¨ <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="external nofollow">çŸ¥è¯†å…±äº«ç½²å4.0</a> å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯<br>æœ¬ç«™æ–‡ç« é™¤æ³¨æ˜è½¬è½½/å‡ºå¤„å¤–ï¼Œå‡ä¸ºæœ¬ç«™åŸåˆ›æˆ–ç¿»è¯‘ï¼Œè½¬è½½å‰è¯·åŠ¡å¿…ç½²å<br>æœ€åç¼–è¾‘æ—¶é—´ä¸º:2018-01-03 00:00:00</p>
	</div>
</article>

<!-- <div class="related-post-lists">
	<div class="post-lists">
		<div class="post-lists-body">
					<div class="post-list-item">
				<div class="post-list-item-container">
					<div class="item-label">
						<div class="item-title"><a href="induction.html">å½’çº³çš„éšæƒ³</a></div>
						<div class="item-meta clearfix">
														<div class="item-meta-ico bg-ico-image" style="background: url('../usr/themes/pinghsu/images/bg-ico.png') no-repeat;background-size: 40px auto;"></div>
	                        							<div class="item-meta-cat"><a href="../category/thoughts/index.html">Thoughts</a></div>
						</div>
					</div>
				</div>
			</div>
				</div>
	</div>
</div> -->
<footer class="footer bg-white">
	<div class="footer-social">
		<div class="footer-container clearfix">
			<div class="social-list">
    <a class="social github" target="blank" href="https://github.com/yanggenwei" title="Yanggenweiçš„Github" data-hover="GitHub">GitHub</a>
	</div>
		</div>
	</div>
	<div class="footer-meta">
        <div class="footer-container">
            <div class="meta-item meta-copyright">
                <div class="meta-copyright-info">
                    <a href="/" class="info-logo">
                         <img src="http://p4wibncwo.bkt.clouddn.com/motto.png"   title="è®¿é—® Yanggenwei_blog" data-hover="Yanggenwei_blog" alt="Yanggenwei_blog" /> </a>
                    <div class="info-text">
                        <p>Theme is <a href="http://www.liberxue.com/2017/08/03/Jekyllthemes.html" title="è®¿é—® Jekyll liberxueä¸»é¢˜"  data-hover="Jekyll liberxue"target="_blank">Jekyll liberxue</a> by <a href="http://www.liberxue.com/about" target="_blank">liberxue</a></p>
                        <p>Powered by <a href="http://localhost:4000/tags/#Jekyll" title="Jekyll" data-hover="Jekyll" target="_blank" rel="nofollow">Jekyll</a></p>
                        <p>&copy; 2017 <a href="/feed.xml"  title="è®¿é—® liberxue blog RSS" data-hover="liberxue blog RSS">Yanggenwei blog RSS</a></p>
                        <p>æ€»è®¡æ–‡ç« ï¼šç¯‡</p>
                      <p>æœ¬blogå·²å¼€æºç‚¹å‡»Fork</p><iframe src="http://ghbtns.com/github-btn.html?user=yanggenwei&repo=yanggenwei.github.io&type=fork&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="95" height="20"></iframe>
                    </div>
                </div>
            </div>
            <div class="meta-item meta-posts">
                <h3 class="meta-title">ç½®é¡¶æ–‡ç« </h3>
     <!--ç½®é¡¶-->
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
        <!--ç½®é¡¶-->
            </div>
            <div class="meta-item meta-comments">
                <h3 class="meta-title">æœ€æ–°æ–‡ç« </h3>
          
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
            
      
    
</div>
		</div>
    </div>
</footer>
<script src="//cdn.bootcss.com/jquery/2.2.2/jquery.min.js"></script>
<script src="//cdn.bootcss.com/bootstrap-3-typeahead/4.0.2/bootstrap3-typeahead.js"></script>
<script src="/search/js/cb-search.js"></script>
<script>
$(function () {
    setTimeout(function () {
      $('code').removeClass('hljs');
      $('code').removeClass('language');
    }, 90);
});
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>

<!--liberxueconnnet-menu-->
<div id="directory-content" class="directory-content">
    <div id="directory"></div>
</div>
<!--liberxueconnnet-menu-->
<script>
var postDirectoryBuild = function() {
    var postChildren = function children(childNodes, reg) {
        var result = [],
            isReg = typeof reg === 'object',
            isStr = typeof reg === 'string',
            node, i, len;
        for (i = 0, len = childNodes.length; i < len; i++) {
            node = childNodes[i];
            if ((node.nodeType === 1 || node.nodeType === 9) &&
                (!reg ||
                isReg && reg.test(node.tagName.toLowerCase()) ||
                isStr && node.tagName.toLowerCase() === reg)) {
                result.push(node);
            }
        }
        return result;
    },
    createPostDirectory = function(article, directory, isDirNum) {
        var contentArr = [],
            titleId = [],
            levelArr, root, level,
            currentList, list, li, link, i, len;
        levelArr = (function(article, contentArr, titleId) {
            var titleElem = postChildren(article.childNodes, /^h\d$/),
                levelArr = [],
                lastNum = 1,
                lastRevNum = 1,
                count = 0,
                guid = 1,
                id = 'directory' + (Math.random() + '').replace(/\D/, ''),
                lastRevNum, num, elem;
            while (titleElem.length) {
                elem = titleElem.shift();
                contentArr.push(elem.innerHTML);
                num = +elem.tagName.match(/\d/)[0];
                if (num > lastNum) {
                    levelArr.push(1);
                    lastRevNum += 1;
                } else if (num === lastRevNum ||
                    num > lastRevNum && num <= lastNum) {
                    levelArr.push(0);
                    lastRevNum = lastRevNum;
                } else if (num < lastRevNum) {
                    levelArr.push(num - lastRevNum);
                    lastRevNum = num;
                }
                count += levelArr[levelArr.length - 1];
                lastNum = num;
                elem.id = elem.id || (id + guid++);
                titleId.push(elem.id);
            }
            if (count !== 0 && levelArr[0] === 1) levelArr[0] = 0;

            return levelArr;
        })(article, contentArr, titleId);
        currentList = root = document.createElement('ul');
        dirNum = [0];
        for (i = 0, len = levelArr.length; i < len; i++) {
            level = levelArr[i];
            if (level === 1) {
                list = document.createElement('ul');
                if (!currentList.lastElementChild) {
                    currentList.appendChild(document.createElement('li'));
                }
                currentList.lastElementChild.appendChild(list);
                currentList = list;
                dirNum.push(0);
            } else if (level < 0) {
                level *= 2;
                while (level++) {
                    if (level % 2) dirNum.pop();
                    currentList = currentList.parentNode;
                }
            }
            dirNum[dirNum.length - 1]++;
            li = document.createElement('li');
            link = document.createElement('a');
            link.href = '#' + titleId[i];
            link.title = 'è®¿é—®' + titleId[i];
            link.title = 'è®¿é—®' + titleId[i];
            link.innerHTML = !isDirNum ? contentArr[i] :
                dirNum.join('.') + ' ' + contentArr[i] ;
            li.appendChild(link);
            currentList.appendChild(li);
        }
        directory.appendChild(root);
    };
    createPostDirectory(document.getElementById('post-content'),document.getElementById('directory'), true);
};
postDirectoryBuild();
</script>
  <script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script >lang=hljs.initHighlightingOnLoad();</script>   
 </body>
</html>
